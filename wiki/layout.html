<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="https://static.igem.wiki/common/icons/favicons/igem-2022.svg"/>
    <link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>

    <!-- Bootstrap CSS -->
    <!-- <link href="{{ url_for('static', filename = 'bootstrap.min.css') }}" rel="stylesheet"> -->

    <!-- Custom CSS -->
    <!-- <link href="{{ url_for('static', filename = 'style.css') }}" rel="stylesheet"> -->
    <link href="{{ url_for('static', filename = 'CSS/nav.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename = 'CSS/home.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename = 'CSS/content_article.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename = 'CSS/notebook.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename = 'footer.css') }}" rel="stylesheet">

    <title>{% block title %}{% endblock %} | HUBU-SKY-China - iGEM 2023</title>

</head>
<body>
  <!-- Navigation -->
  {% include 'menu.html' %}



  <!-- Page Content -->
  <div class="container">
    {% block page_content %}{% endblock %}
  </div>

  <!-- Footer: MUST mention license AND have a link to team wiki's repository on gitlab.igem.org -->
  {% include 'footer.html' %}

  <!-- Bootstrap Bundle with Popper -->
  <!-- <script src="{{ url_for('static', filename = 'bootstrap.bundle.min.js') }}"></script> -->
  <script>
    window.addEventListener("scroll", function() {
        var navbar = document.querySelector("nav");
        navbar.classList.toggle("sticky",window.scrollY>50);
    });

    window.addEventListener('scroll', function() {
        var scroll = $(window).scrollTop();
        if (scroll < 0) {
            // 向上滚动时无效果
            return;
        }
        var rows = $('.introduction, #mei,.box, #video').each(function() {
            var offset = $(this).offset().top;
            if (scroll >= offset - 450 && scroll < offset + 300) {
                // 在指定范围内时添加类名"active"
                $(this).addClass('active');
            } else {
            // 不在指定范围内时不会取消类名"active"
            }
        });
    });

    window.addEventListener('scroll', function() {
				var contentLeft = document.querySelector('.content_left');
				var viewportWidth = window.innerWidth || document.documentElement.clientWidth;

				if (viewportWidth > 960) {
					var scrollY = window.scrollY || window.pageYOffset;
					var windowHeight = window.innerHeight; // 窗口可见区域的高度
					var documentHeight = document.documentElement.scrollHeight; // 文档总高度

					// 计算距离底部的距离
					var distanceToBottom = documentHeight - (scrollY + windowHeight);

					if (scrollY >= 50) {
					contentLeft.classList.add('sticky');
					} else {
					contentLeft.classList.remove('sticky');
					}
				} else {
					contentLeft.classList.remove('sticky');
				}
			});
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script>
          
      $(".step").click( function() {
      $(this).addClass("active").prevAll().addClass("active");
      $(this).nextAll().removeClass("active");
      });
      $(".step01").click( function() {
      $("#line-progress").css("width", "3%");
      $(".discovery").addClass("active").siblings().removeClass("active");
      });
      $(".step02").click( function() {
      $("#line-progress").css("width", "25%");
      $(".strategy").addClass("active").siblings().removeClass("active");
      });
      $(".step03").click( function() {
      $("#line-progress").css("width", "50%");
      $(".creative").addClass("active").siblings().removeClass("active");
      });
      $(".step04").click( function() {
      $("#line-progress").css("width", "75%");
      $(".production").addClass("active").siblings().removeClass("active");
      });
      $(".step05").click( function() {
      $("#line-progress").css("width", "100%");
      $(".analysis").addClass("active").siblings().removeClass("active");
      });

  </script>
</body>
</html>
